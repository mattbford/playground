(this["webpackJsonp@open-rpc/playground"]=this["webpackJsonp@open-rpc/playground"]||[]).push([[1],{585:function(e,t,a){e.exports=a(895)},590:function(e,t,a){},745:function(e,t,a){},783:function(e,t){},791:function(e,t){},793:function(e,t){},846:function(e,t){},895:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(55),i=a.n(c),s=(a(590),a(154)),l=a(52),u=a(16),p=Object(u.a)((function(e){return{list:{color:e.palette.secondary.main,height:"100%",listStyle:"none",overflow:"scroll"},wrapper:{maxHeight:"200px"}}}))((function(e){var t=e.classes,a=e.markers;return a&&0!==a.length?o.a.createElement("div",{className:t.wrapper},o.a.createElement("ul",{className:t.list},a&&a.map((function(e){return o.a.createElement("li",{key:e.message},e.startLineNumber,":",e.startColumn," - ",e.message)})))):null})),m=a(81),d=a(558),f=a(561),h=(a(745),a(277)),g=a(278),b=a(280),j=a(279),O=a(281),E=a(927),y=a(935),v=a(501),x=a(406),S=a(938),k=a(414),w=a(900),C=a(563),M=a.n(C),B=a(562),N=a.n(B),D=a(565),P=a.n(D),T=a(564),K=a.n(T),U=a(931),z=Object(u.a)((function(e){return{title:{marginLeft:e.spacing(2)},appBar:{}}}))((function(e){var t=e.uiSchema,a=e.searchBarUrl,n=e.onChangeUrl;return o.a.createElement(U.a,{value:a,placeholder:t&&t.appBar["ui:inputPlaceholder"],style:{width:"100%"},onChange:function(e){n(e.target.value)}})})),I=a(936),R=a(488),V=a(559),L=a(932),J=function(e){var t=e.examples,a=e.onChange,n=r.useState(null),o=Object(l.a)(n,2),c=o[0],i=o[1];return t?r.createElement(r.Fragment,null,r.createElement(I.a,{title:"Example OpenRPC Documents"},r.createElement(R.a,{onClick:function(e){i(e.currentTarget)}},"Examples")),r.createElement(V.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){i(null)}},r.createElement("div",{style:{maxWidth:"525px"}},t.map((function(e){return r.createElement(L.a,{onClick:function(t){return function(e){i(null),a&&a(e)}(e)}},r.createElement(v.a,{container:!0,spacing:0},r.createElement(v.a,{item:!0,xs:12},r.createElement(x.a,{variant:"subtitle1"},e.name)),r.createElement(v.a,{item:!0,xs:12},r.createElement(x.a,{variant:"caption",style:{fontSize:"9px"}},e.url))))}))))):null},A=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uiSchema,a=e.classes,n=e.onSplitViewChange,r=e.onDarkModeChange,c=e.examples,i=e.onExampleDocumentsDropdownChange;return o.a.createElement(E.a,{position:"fixed",color:"default",elevation:0,className:a.appBar},o.a.createElement(y.a,null,o.a.createElement(v.a,{alignItems:"center",container:!0,spacing:10},o.a.createElement(v.a,{item:!0,xs:6,sm:3,direction:"row",container:!0},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:logoUrl"]&&o.a.createElement(v.a,null,o.a.createElement("img",{alt:"playground-title",height:"30",src:this.props.uiSchema.appBar["ui:logoUrl"]})),o.a.createElement(v.a,null,o.a.createElement(x.a,{className:a.title,variant:"h6"},t&&t.appBar["ui:title"]))),o.a.createElement(S.a,{only:"xs"},o.a.createElement(v.a,{item:!0,sm:6},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:input"]&&o.a.createElement(k.a,{style:{background:"rgba(0, 0, 0, 0.1)",padding:"0px 10px 0px 10px",width:"100%"},elevation:0},o.a.createElement(z,{searchBarUrl:this.props.searchBarUrl,onChangeUrl:this.props.onChangeUrl,uiSchema:t})))),o.a.createElement(v.a,{item:!0,xs:6,sm:3,container:!0,justify:"flex-end"},o.a.createElement(J,{examples:c,onChange:i}),o.a.createElement(w.a,null,t&&t.appBar["ui:splitView"]?o.a.createElement(N.a,{onClick:function(){n&&n(!1)}}):o.a.createElement(M.a,{onClick:function(){n&&n(!0)}})),o.a.createElement(w.a,null,t&&t.appBar["ui:darkMode"]?o.a.createElement(K.a,{onClick:function(){return r(!1)}}):o.a.createElement(P.a,{onClick:function(){return r(!0)}}))))))}}]),t}(r.Component),F=Object(u.a)((function(e){return{title:{marginLeft:e.spacing(2)},appBar:{}}}))(A),Y=a(577),H=a(910),W=a(933),_=a(412),q=a.n(_),G=a(152),$=a.n(G),Q=a(566),X=a.n(Q),Z=a(571),ee=a.n(Z),te=a(568),ae=a.n(te),ne=a(413),re=a.n(ne),oe=a(567),ce=a.n(oe),ie=a(569),se=a.n(ie),le=a(570),ue=a.n(le),pe={success:X.a,warning:ce.a,error:ae.a,info:re.a,debug:re.a};!function(e){e.error="error",e.warn="warning",e.info="info",e.success="success",e.debug="debug"}(n||(n={}));var me=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.message,r=e.onClose,c=e.variant,i=Object(Y.a)(e,["classes","className","message","onClose","variant"]),s=pe[c];return o.a.createElement(H.a,Object.assign({className:q()(t[c],a),"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:t.message},o.a.createElement(s,{className:q()(t.icon,t.iconVariant)}),n),action:[o.a.createElement(w.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:r},o.a.createElement(ee.a,{className:t.icon}))]},i))}}]),t}(o.a.Component),de=Object(u.a)((function(e){return{success:{color:se.a[600]},error:{backgroundColor:e.palette.error.dark},info:{color:e.palette.primary.dark},debug:{color:e.palette.secondary.dark},warning:{color:ue.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(2)},message:{display:"flex",alignItems:"center"},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}}))(me),fe=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.notification,n=e.close;return Object(G.isEmpty)(a)?null:o.a.createElement(W.a,{open:!0,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"left"}},o.a.createElement(de,{onClose:n,variant:a.type,message:o.a.createElement("span",null,a.message),className:t.margin}))}}]),t}(r.Component),he=Object(u.a)((function(e){return{title:{marginLeft:e.spacing(2)},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}}))(fe),ge=a(926),be=a(308),je=a(331),Oe=a.n(je),Ee=Object(be.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiToolbar:{root:{background:"transparent !important"}},MuiAppBar:{root:{backgroundColor:"transparent !important"},colorDefault:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}}},palette:{background:{default:"#fff"}}}),ye=Object(be.a)({props:{MuiAppBar:{position:"sticky"}},palette:{type:"dark",background:{default:Oe.a[900],paper:Oe.a[900]}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiAppBar:{root:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}},MuiToolbar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:Oe.a[400]}}}}),ve=a(575),xe=a.n(ve),Se=a(576),ke=a.n(Se),we=a(930),Ce=a(929),Me=a(937),Be=a(934),Ne=a(411),De=function(e){if(!1===e.split&&e.onlyRenderSplit)return o.a.createElement("div",{key:2,style:e.splitLeft?e.leftStyle:e.rightStyle},e.splitLeft?e.left:e.right);var t=e.direction||"vertical",a=e.split?"horizontal"===t?window.innerHeight/2:window.innerWidth/2:"horizontal"===t?window.innerHeight:window.innerWidth;return o.a.createElement(Ne.default,{split:t,style:e.style,className:"playground-splitview",minSize:100,maxSize:0,defaultSize:a,size:a,onChange:function(t){e.onChange&&e.onChange(t)}},o.a.createElement("div",{style:e.leftStyle?Object(s.a)({},e.leftStyle,{},{display:"flex",flexDirection:"column",height:"100%"}):{display:"flex",flexDirection:"column",height:"100%"},key:1},e.left),o.a.createElement("div",{key:2,style:e.rightStyle},e.right))},Pe=a(572),Te=a.n(Pe),Ke=function(e){var t=Object(r.useState)(),a=Object(l.a)(t,2),n=a[0],o=a[1],c=function(e){var t;try{t=JSON.parse(e)}catch(a){}t&&Te.a.dereference(t).then((function(t){o(t),$.a.defer((function(){return window.localStorage.setItem("schema",e)}))}))};return Object(r.useEffect)((function(){e&&c(e)}),[]),[n,c]};var Ue=function(){var e=Object(r.useState)((function(){return window.localStorage.getItem("schema")})),t=Object(l.a)(e,2);return[t[0],t[1]]},ze=a(162),Ie=a(163),Re=a.n(Ie),Ve=0,Le=function(e){var t=Object(r.useState)(e),a=Object(l.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(),i=Object(l.a)(c,2),s=i[0],u=i[1],p=Object(r.useState)(),m=Object(l.a)(p,2),d=m[0],f=m[1];return Object(r.useEffect)((function(){n&&(Object(G.isEmpty)(n)||(n.match(/\.json$/)?function(e){var t;return Re.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Re.a.awrap(fetch(e));case 2:if(404!==(t=a.sent).status){a.next=5;break}throw new Error("404: Not Found");case 5:return a.abrupt("return",t.text());case 6:case"end":return a.stop()}}))}(n).then(u).catch((function(e){var t="Error fetching schema for: ".concat(n);console.error(t,e),f(t)})):function(e){var t,a;return Re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Re.a.awrap(fetch(e,{body:JSON.stringify({id:Ve++,jsonrpc:"2.0",method:"rpc.discover",params:[]}),headers:{"Content-Type":"application/json"},method:"POST"}));case 2:if(404!==(t=n.sent).status){n.next=5;break}throw new Error("404: Not Found");case 5:return n.next=7,Re.a.awrap(t.json());case 7:return a=n.sent,n.abrupt("return",JSON.stringify(a.result,null,2));case 9:case"end":return n.stop()}}))}(n).then(u).catch((function(e){var t="Error fetching rpc.discover for: ".concat(n);console.error(t,e),f(t)}))))}),[n]),[n,{results:s,error:d},o]},Je=a(573),Ae=function(){var e=Object(r.useState)(Je.parse(window.location.search,{ignoreQueryPrefix:!0,depth:100,decoder:function(e){return/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}}));return[Object(l.a)(e,1)[0]]},Fe=Object(ze.createStore)((function(){return Ae()})),Ye=Object(ze.createStore)((function(){var e=Fe(),t=Object(l.a)(e,1)[0];return Le(t.schemaUrl)})),He=Object(ze.createStore)((function(){var e=Object(r.useState)(),t=Object(l.a)(e,2);return[t[0],t[1]]})),We=function(e){var t,a,n=Ye(),r=Object(l.a)(n,1)[0],c=He(),i=Object(l.a)(c,2)[1],s=e.openrpcMethodObject;return s&&s.examples&&s.examples[0]&&(t=s.examples[0],a=t.params.map((function(e){return e.value}))),o.a.createElement(I.a,{title:"Open in Inspector"},o.a.createElement(R.a,{variant:"contained",onClick:function(){return i({url:r,openrpcMethodObject:e.openrpcMethodObject,request:{jsonrpc:"2.0",id:0,method:s.name,params:a||[]}})}},o.a.createElement("span",{role:"img","aria-label":"try-it-inspector"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"),"\ufe0f\ufe0f Try It Now"))},_e=a(267),qe=function(e){var t=Object(r.useState)(e),a=Object(l.a)(t,2),n=a[0],o=a[1];return[n,function(e){var t=e.section,a=e.key,r=e.value;o(Object(s.a)({},n,Object(_e.a)({},t,Object(s.a)({},n.appBar,Object(_e.a)({},a,r)))))}]},Ge=Object(ze.createStore)((function(){var e,t,a=Fe(),n=Object(l.a)(a,1)[0];return qe((e={appBar:{"ui:input":!0,"ui:inputPlaceholder":"Enter OpenRPC Document Url or rpc.discover Endpoint","ui:logoUrl":"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png","ui:splitView":!0,"ui:darkMode":!1,"ui:title":"OpenRPC Playground"},methods:{"ui:defaultExpanded":!1,"ui:methodPlugins":!0},params:{"ui:defaultExpanded":!1}},t=n.uiSchema,e&&t?{appBar:Object(s.a)({},e.appBar,{},t.appBar||{}),methods:Object(s.a)({},e.methods,{},t.methods||{}),params:Object(s.a)({},e.params,{},t.params||{})}:e||t))})),$e=[{name:"api-with-examples",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/api-with-examples-openrpc.json"},{name:"link-example",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/link-example-openrpc.json"},{name:"params-by-name-petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/params-by-name-petstore-openrpc.json"},{name:"petstore-expanded",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-expanded-openrpc.json"},{name:"petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-openrpc.json"},{name:"simple-math",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/simple-math-openrpc.json"},{name:"empty-document",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/empty-openrpc.json"}],Qe=a(306),Xe=a.n(Qe),Ze=a(407),et=a.n(Ze),tt=a(307),at=a(266),nt=a.n(at),rt=function(e){var t,a=Object(r.useRef)(),n=et()();Object(r.useEffect)((function(){void 0!==a&&void 0!==a.current&&a.current.layout()}),[n]),Object(r.useEffect)((function(){return function(){t&&t.dispose()}}),[]);return o.a.createElement(Xe.a,{height:"93vh",editorOptions:{useShadows:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on"},value:e.value,editorDidMount:function(n,r){a.current=r;var o=m.Uri.parse("inmemory://openrpc-playground.json");t=m.editor.createModel(e.value||"","json",o),r.setModel(t),Object(tt.addDiagnostics)(o.toString(),nt.a,m),e.editorDidMount&&e.editorDidMount(n,r)},language:"json",onChange:function(t,a){e.onChange&&e.onChange(a)}})},ot=function(e){var t=Object(r.useState)(nt.a),a=Object(l.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)((function(){e&&e.addAction({id:"replace-meta-schema",label:"Replace Meta Schema",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_R)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var e=window.prompt("Paste schema to replace current meta schema","{}");e&&o(JSON.parse(e))}})}),[e]),[n]},ct=a(537).initVimMode,it=function(e){var t=Object(r.useState)(),a=Object(l.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)((function(){if(e)return e.addAction({id:"vim-mode",label:"Vim Mode",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_V)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){n&&n.dispose(),o(ct(e))}}),function(){n&&n.dispose()}}),[e]),[e,n]},st=a(574),lt=a.n(st),ut=function(){var e=Ue(),t=Object(l.a)(e,1)[0],a=Object(r.useState)([]),c=Object(l.a)(a,2),i=c[0],u=c[1],h=Ye(),g=Object(l.a)(h,3),b=g[0],j=g[1],O=j.results,E=j.error,y=g[2],v=Object(r.useState)(),S=Object(l.a)(v,2),k=S[0],C=S[1],M=Ge(),B=Object(l.a)(M,2),N=B[0],D=B[1],P=Object(r.useState)(),T=Object(l.a)(P,2),K=T[0],U=T[1],z=Object(r.useState)(!0),R=Object(l.a)(z,2),V=R[0],L=R[1],J=function(e){K&&setTimeout((function(){K.layout()}),0),L(e)},A=He(),Y=Object(l.a)(A,1)[0];ot(K),it(K);Object(r.useEffect)((function(){var e=$e.find((function(e){return"petstore"===e.name}));t||b||!e||y(e.url)}),[t]),Object(r.useEffect)((function(){X(Object(s.a)({},Q,{theme:N.appBar["ui:darkMode"]?"summerfruit":"summerfruit:inverted"}))}),[N.appBar["ui:darkMode"]]),Object(f.a)((function(){var e=m.Uri.parse("inmemory://openrpc-playground.json"),t=m.editor.getModelMarkers({resource:e});u(t)}),5e3),Object(r.useEffect)((function(){O&&K&&K.setValue(O),O&&q(O)}),[O]),Object(r.useEffect)((function(){E&&C({type:n.error,message:E})}),[E]);var H=Ke(t?JSON.parse(t):null),W=Object(l.a)(H,2),_=W[0],q=W[1];Object(r.useEffect)((function(){q(t)}),[t]);var G=Object(r.useState)({theme:"summerfruit:inverted",collapseStringsAfterLength:25,displayDataTypes:!1,displayObjectSize:!1,indentWidth:2,name:!1}),$=Object(l.a)(G,2),Q=$[0],X=$[1],Z=N.appBar["ui:darkMode"]?ye:Ee;return Object(r.useEffect)((function(){Y&&J(!0)}),[Y]),o.a.createElement(ge.a,{theme:Z},o.a.createElement(we.a,null),o.a.createElement(F,{searchBarUrl:b,uiSchema:N,examples:$e,onExampleDocumentsDropdownChange:function(e){return y(e.url)},onSplitViewChange:function(e){D({value:e,key:"ui:splitView",section:"appBar"})},onDarkModeChange:function(e){m.editor.setTheme(e?"vs-dark":"vs"),D({value:e,key:"ui:darkMode",section:"appBar"})},onChangeUrl:y}),o.a.createElement(De,{direction:"horizontal",splitLeft:!0,split:V,leftStyle:{width:"100%",height:"100%"},right:o.a.createElement(o.a.Fragment,null,o.a.createElement(lt.a,{hideToggleTheme:!0,url:b&&b.includes(".json")?null:b,request:Y&&Y.request,openrpcDocument:_})),onChange:function(){return K&&K.layout()},left:o.a.createElement(De,{onlyRenderSplit:!0,split:N.appBar["ui:splitView"],leftStyle:{marginTop:"58px",paddingBottom:"25px",height:"100%",width:"100%"},rightStyle:{height:"100%",width:"100%",overflowY:"auto",marginTop:"58px"},onChange:function(){return K&&K.layout()},left:o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{markers:i}),o.a.createElement(rt,{editorDidMount:function(e,t){U(t)},onChange:function(e){q(e)},value:t||""})),right:o.a.createElement(o.a.Fragment,null,o.a.createElement(Ce.a,null,o.a.createElement(d.Documentation,{schema:_,uiSchema:N,reactJsonOptions:Q,methodPlugins:N.methods["ui:methodPlugins"]?[We]:void 0})),o.a.createElement(Me.a,{variant:"scrollable",indicatorColor:"primary",value:0,style:{position:"absolute",bottom:"0",right:"25px",zIndex:1,marginBottom:"0px"}},o.a.createElement(Be.a,{onClick:function(){return J(!V)},style:{background:Z.palette.background.default,width:"165px",paddingRight:"30px",border:"1px solid ".concat(Z.palette.text.hint)},label:o.a.createElement("div",null,o.a.createElement(x.a,{variant:"body1"},o.a.createElement("span",{role:"img","aria-label":"inspector"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"),"\ufe0f Inspector"),o.a.createElement(I.a,{title:"Toggle Inspector"},o.a.createElement(w.a,{style:{position:"absolute",right:"5px",top:"20%"},size:"small"},V?o.a.createElement(xe.a,null):o.a.createElement(ke.a,null))))})))})}),o.a.createElement(he,{close:function(){return C({})},notification:k}))};i.a.render(o.a.createElement(ze.ReusableProvider,null,o.a.createElement(ut,null)),document.getElementById("root"))}},[[585,2,3]]]);
//# sourceMappingURL=main.54de16b8.chunk.js.map