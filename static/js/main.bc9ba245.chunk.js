(this["webpackJsonp@open-rpc/playground"]=this["webpackJsonp@open-rpc/playground"]||[]).push([[1],{547:function(e,t,a){e.exports=a(801)},552:function(e,t,a){},708:function(e,t,a){},747:function(e,t){},755:function(e,t){},757:function(e,t){},801:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(54),i=a.n(c),s=(a(552),a(172)),u=a(65),l=a(16),p=Object(l.a)((function(e){return{list:{color:e.palette.secondary.main,height:"100%",listStyle:"none",overflow:"scroll"},wrapper:{maxHeight:"200px"}}}))((function(e){var t=e.classes,a=e.markers;return a&&0!==a.length?o.a.createElement("div",{className:t.wrapper},o.a.createElement("ul",{className:t.list},a&&a.map((function(e){return o.a.createElement("li",{key:e.message},e.startLineNumber,":",e.startColumn," - ",e.message)})))):null})),m=a(85),d=a(522),f=a(525),h=(a(708),a(267)),g=a(268),b=a(270),j=a(269),O=a(271),E=a(832),v=a(838),y=a(488),x=a(393),k=a(840),C=a(401),w=a(805),S=a(527),M=a.n(S),B=a(526),N=a.n(B),D=a(529),P=a.n(D),K=a(528),U=a.n(K),T=a(835),V=Object(l.a)((function(e){return{title:{marginLeft:e.spacing(2)},appBar:{}}}))((function(e){var t=e.uiSchema,a=e.searchBarUrl,n=e.onChangeUrl;return o.a.createElement(T.a,{value:a,placeholder:t&&t.appBar["ui:inputPlaceholder"],style:{width:"100%"},onChange:function(e){n(e.target.value)}})})),I=a(839),z=a(475),R=a(523),J=a(836),A=function(e){var t=e.examples,a=e.onChange,n=r.useState(null),o=Object(u.a)(n,2),c=o[0],i=o[1];return t?r.createElement(r.Fragment,null,r.createElement(I.a,{title:"Example OpenRPC Documents"},r.createElement(z.a,{onClick:function(e){i(e.currentTarget)}},"Examples")),r.createElement(R.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){i(null)}},r.createElement("div",{style:{maxWidth:"525px"}},t.map((function(e){return r.createElement(J.a,{onClick:function(t){return function(e){i(null),a&&a(e)}(e)}},r.createElement(y.a,{container:!0,spacing:0},r.createElement(y.a,{item:!0,xs:12},r.createElement(x.a,{variant:"subtitle1"},e.name)),r.createElement(y.a,{item:!0,xs:12},r.createElement(x.a,{variant:"caption",style:{fontSize:"9px"}},e.url))))}))))):null},F=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uiSchema,a=e.classes,n=e.onSplitViewChange,r=e.onDarkModeChange,c=e.examples,i=e.onExampleDocumentsDropdownChange;return o.a.createElement(E.a,{position:"static",color:"default",elevation:0,className:a.appBar},o.a.createElement(v.a,null,o.a.createElement(y.a,{alignItems:"center",container:!0,spacing:10},o.a.createElement(y.a,{item:!0,xs:6,sm:3,direction:"row",container:!0},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:logoUrl"]&&o.a.createElement(y.a,null,o.a.createElement("img",{alt:"playground-title",height:"30",src:this.props.uiSchema.appBar["ui:logoUrl"]})),o.a.createElement(y.a,null,o.a.createElement(x.a,{className:a.title,variant:"h6"},t&&t.appBar["ui:title"]))),o.a.createElement(k.a,{only:"xs"},o.a.createElement(y.a,{item:!0,sm:6},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:input"]&&o.a.createElement(C.a,{style:{background:"rgba(0, 0, 0, 0.1)",padding:"0px 10px 0px 10px",width:"100%"},elevation:0},o.a.createElement(V,{searchBarUrl:this.props.searchBarUrl,onChangeUrl:this.props.onChangeUrl,uiSchema:t})))),o.a.createElement(y.a,{item:!0,xs:6,sm:3,container:!0,justify:"flex-end"},o.a.createElement(A,{examples:c,onChange:i}),o.a.createElement(w.a,null,t&&t.appBar["ui:splitView"]?o.a.createElement(N.a,{onClick:function(){n&&n(!1)}}):o.a.createElement(M.a,{onClick:function(){n&&n(!0)}})),o.a.createElement(w.a,null,t&&t.appBar["ui:darkMode"]?o.a.createElement(U.a,{onClick:function(){return r(!1)}}):o.a.createElement(P.a,{onClick:function(){return r(!0)}}))))))}}]),t}(r.Component),L=Object(l.a)((function(e){return{title:{marginLeft:e.spacing(2)},appBar:{}}}))(F),Y=a(539),_=a(815),G=a(837),W=a(399),H=a.n(W),$=a(158),q=a.n($),Q=a(530),X=a.n(Q),Z=a(535),ee=a.n(Z),te=a(532),ae=a.n(te),ne=a(400),re=a.n(ne),oe=a(531),ce=a.n(oe),ie=a(533),se=a.n(ie),ue=a(534),le=a.n(ue),pe={success:X.a,warning:ce.a,error:ae.a,info:re.a,debug:re.a};!function(e){e.error="error",e.warn="warning",e.info="info",e.success="success",e.debug="debug"}(n||(n={}));var me=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.message,r=e.onClose,c=e.variant,i=Object(Y.a)(e,["classes","className","message","onClose","variant"]),s=pe[c];return o.a.createElement(_.a,Object.assign({className:H()(t[c],a),"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:t.message},o.a.createElement(s,{className:H()(t.icon,t.iconVariant)}),n),action:[o.a.createElement(w.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:r},o.a.createElement(ee.a,{className:t.icon}))]},i))}}]),t}(o.a.Component),de=Object(l.a)((function(e){return{success:{color:se.a[600]},error:{backgroundColor:e.palette.error.dark},info:{color:e.palette.primary.dark},debug:{color:e.palette.secondary.dark},warning:{color:le.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(2)},message:{display:"flex",alignItems:"center"},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}}))(me),fe=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.notification,n=e.close;return Object($.isEmpty)(a)?null:o.a.createElement(G.a,{open:!0,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"left"}},o.a.createElement(de,{onClose:n,variant:a.type,message:o.a.createElement("span",null,a.message),className:t.margin}))}}]),t}(r.Component),he=Object(l.a)((function(e){return{title:{marginLeft:e.spacing(2)},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}}))(fe),ge=a(831),be=a(295),je=a(319),Oe=a.n(je),Ee=Object(be.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiToolbar:{root:{background:"transparent !important"}},MuiAppBar:{root:{backgroundColor:"transparent !important"},colorDefault:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}}},palette:{background:{default:"#fff"}}}),ve=Object(be.a)({props:{MuiAppBar:{position:"sticky"}},palette:{type:"dark",background:{default:Oe.a[900],paper:Oe.a[900]}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiAppBar:{root:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}},MuiToolbar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:Oe.a[400]}}}}),ye=a(834),xe=a(398),ke=function(e){return!1===e.split?o.a.createElement("div",{className:"docs",key:2},e.right):o.a.createElement(xe.default,{split:"vertical",minSize:100,maxSize:-100,defaultSize:window.innerWidth/2,onChange:function(t){e.onChange&&e.onChange(t)}},o.a.createElement("div",{key:1,style:{display:"flex",flexDirection:"column",height:"100%"}},e.left),o.a.createElement("div",{className:"docs",key:2},e.right))},Ce=a(536),we=a.n(Ce),Se=function(e){var t=Object(r.useState)(),a=Object(u.a)(t,2),n=a[0],o=a[1],c=function(e){var t;try{t=JSON.parse(e)}catch(a){}t&&we.a.dereference(t).then((function(t){o(t),q.a.defer((function(){return window.localStorage.setItem("schema",e)}))}))};return Object(r.useEffect)((function(){e&&c(e)}),[]),[n,c]};var Me=function(){var e=Object(r.useState)((function(){return window.localStorage.getItem("schema")})),t=Object(u.a)(e,2);return[t[0],t[1]]},Be=a(537),Ne=a.n(Be),De=a(190),Pe=a(215),Ke=a.n(Pe),Ue=0,Te=function(e){var t=Object(r.useState)(e),a=Object(u.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(),i=Object(u.a)(c,2),s=i[0],l=i[1],p=Object(r.useState)(),m=Object(u.a)(p,2),d=m[0],f=m[1];return Object(r.useEffect)((function(){n&&(Object($.isEmpty)(n)||(n.match(/\.json$/)?function(e){var t;return Ke.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Ke.a.awrap(fetch(e));case 2:if(404!==(t=a.sent).status){a.next=5;break}throw new Error("404: Not Found");case 5:return a.abrupt("return",t.text());case 6:case"end":return a.stop()}}))}(n).then(l).catch((function(e){var t="Error fetching schema for: ".concat(n);console.error(t,e),f(t)})):function(e){var t,a;return Ke.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ke.a.awrap(fetch(e,{body:JSON.stringify({id:Ue++,jsonrpc:"2.0",method:"rpc.discover",params:[]}),headers:{"Content-Type":"application/json"},method:"POST"}));case 2:if(404!==(t=n.sent).status){n.next=5;break}throw new Error("404: Not Found");case 5:return n.next=7,Ke.a.awrap(t.json());case 7:return a=n.sent,n.abrupt("return",JSON.stringify(a.result,null,2));case 9:case"end":return n.stop()}}))}(n).then(l).catch((function(e){var t="Error fetching rpc.discover for: ".concat(n);console.error(t,e),f(t)}))))}),[n]),[n,{results:s,error:d},o]},Ve=a(538),Ie=function(){var e=Object(r.useState)(Ve.parse(window.location.search,{ignoreQueryPrefix:!0,depth:100,decoder:function(e){return/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}}));return[Object(u.a)(e,1)[0]]},ze=Object(De.createStore)((function(){return Ie()})),Re=Object(De.createStore)((function(){var e=ze(),t=Object(u.a)(e,1)[0];return Te(t.schemaUrl)})),Je=function(e){var t,a=Re(),n=Object(u.a)(a,1)[0],r=e.openrpcMethodObject;return r&&r.examples&&r.examples[0]&&(t=r.examples[0].params.map((function(e){return e.value}))),o.a.createElement(y.a,{style:{height:"300px",width:"100%",overflowY:"hidden"}},o.a.createElement(Ne.a,{request:{method:r.name,params:t||[]},url:n&&n.includes(".json")?null:n,openrpcMethodObject:r,hideToggleTheme:!0}))},Ae=a(259),Fe=function(e){var t=Object(r.useState)(e),a=Object(u.a)(t,2),n=a[0],o=a[1];return[n,function(e){var t=e.section,a=e.key,r=e.value;o(Object(s.a)({},n,Object(Ae.a)({},t,Object(s.a)({},n.appBar,Object(Ae.a)({},a,r)))))}]},Le=Object(De.createStore)((function(){var e,t,a=ze(),n=Object(u.a)(a,1)[0];return Fe((e={appBar:{"ui:input":!0,"ui:inputPlaceholder":"Enter OpenRPC Document Url or rpc.discover Endpoint","ui:logoUrl":"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png","ui:splitView":!0,"ui:darkMode":!1,"ui:title":"OpenRPC Playground"},methods:{"ui:defaultExpanded":!1,"ui:methodPlugins":!0},params:{"ui:defaultExpanded":!1}},t=n.uiSchema,e&&t?{appBar:Object(s.a)({},e.appBar,{},t.appBar||{}),methods:Object(s.a)({},e.methods,{},t.methods||{}),params:Object(s.a)({},e.params,{},t.params||{})}:e||t))})),Ye=[{name:"api-with-examples",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/api-with-examples-openrpc.json"},{name:"link-example",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/link-example-openrpc.json"},{name:"params-by-name-petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/params-by-name-petstore-openrpc.json"},{name:"petstore-expanded",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-expanded-openrpc.json"},{name:"petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-openrpc.json"},{name:"simple-math",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/simple-math-openrpc.json"}],_e=a(294),Ge=a.n(_e),We=a(394),He=a.n(We),$e=a(395),qe=a(318),Qe=a.n(qe),Xe=function(e){var t,a=Object(r.useRef)(),n=He()();Object(r.useEffect)((function(){void 0!==a&&void 0!==a.current&&a.current.layout()}),[n]),Object(r.useEffect)((function(){return function(){t&&t.dispose()}}),[]);return o.a.createElement(Ge.a,{height:"93vh",value:e.value,editorDidMount:function(n,r){a.current=r;var o=m.Uri.parse("inmemory://openrpc-playground.json");t=m.editor.createModel(e.value||"","json",o),r.setModel(t),Object($e.addDiagnostics)(o.toString(),Qe.a,m),e.editorDidMount&&e.editorDidMount(n,r)},language:"json",onChange:function(t,a){e.onChange&&e.onChange(a)}})},Ze=function(e){var t=Object(r.useState)(Qe.a),a=Object(u.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)((function(){e&&e.addAction({id:"replace-meta-schema",label:"Replace Meta Schema",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_R)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var e=window.prompt("Paste schema to replace current meta schema","{}");e&&o(JSON.parse(e))}})}),[e]),[n]},et=a(795).initVimMode,tt=function(e){var t=Object(r.useState)(),a=Object(u.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)((function(){if(e)return e.addAction({id:"vim-mode",label:"Vim Mode",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_V)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){n&&n.dispose(),o(et(e))}}),function(){n&&n.dispose()}}),[e]),[e,n]},at=function(){var e=Me(),t=Object(u.a)(e,1)[0],a=Object(r.useState)([]),c=Object(u.a)(a,2),i=c[0],l=c[1],h=Re(),g=Object(u.a)(h,3),b=g[0],j=g[1],O=j.results,E=j.error,v=g[2],y=Object(r.useState)(),x=Object(u.a)(y,2),k=x[0],C=x[1],w=Le(),S=Object(u.a)(w,2),M=S[0],B=S[1],N=Object(r.useState)(),D=Object(u.a)(N,2),P=D[0],K=D[1];Ze(P),tt(P);Object(r.useEffect)((function(){var e=Ye.find((function(e){return"petstore"===e.name}));t||b||!e||v(e.url)}),[t]),Object(r.useEffect)((function(){A(Object(s.a)({},J,{theme:M.appBar["ui:darkMode"]?"summerfruit":"summerfruit:inverted"}))}),[M.appBar["ui:darkMode"]]),Object(f.a)((function(){var e=m.Uri.parse("inmemory://openrpc-playground.json"),t=m.editor.getModelMarkers({resource:e});l(t)}),5e3),Object(r.useEffect)((function(){O&&P&&P.setValue(O),O&&I(O)}),[O]),Object(r.useEffect)((function(){E&&C({type:n.error,message:E})}),[E]);var U=Se(t?JSON.parse(t):null),T=Object(u.a)(U,2),V=T[0],I=T[1];Object(r.useEffect)((function(){I(t)}),[t]);var z=Object(r.useState)({theme:"summerfruit:inverted",collapseStringsAfterLength:25,displayDataTypes:!1,displayObjectSize:!1,indentWidth:2,name:!1}),R=Object(u.a)(z,2),J=R[0],A=R[1];return o.a.createElement(ge.a,{theme:M.appBar["ui:darkMode"]?ve:Ee},o.a.createElement(ye.a,null),o.a.createElement(L,{searchBarUrl:b,uiSchema:M,examples:Ye,onExampleDocumentsDropdownChange:function(e){return v(e.url)},onSplitViewChange:function(e){B({value:e,key:"ui:splitView",section:"appBar"})},onDarkModeChange:function(e){m.editor.setTheme(e?"vs-dark":"vs"),B({value:e,key:"ui:darkMode",section:"appBar"})},onChangeUrl:v}),o.a.createElement(ke,{split:M.appBar["ui:splitView"],left:o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{markers:i}),o.a.createElement(Xe,{editorDidMount:function(e,t){K(t)},onChange:function(e){I(e)},value:t||""})),right:o.a.createElement(d.Documentation,{schema:V,uiSchema:M,reactJsonOptions:J,methodPlugins:M.methods["ui:methodPlugins"]?[Je]:void 0})}),o.a.createElement(he,{close:function(){return C({})},notification:k}))};i.a.render(o.a.createElement(De.ReusableProvider,null,o.a.createElement(at,null)),document.getElementById("root"))}},[[547,2,3]]]);
//# sourceMappingURL=main.bc9ba245.chunk.js.map