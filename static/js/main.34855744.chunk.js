(this["webpackJsonp@open-rpc/playground"]=this["webpackJsonp@open-rpc/playground"]||[]).push([[1],{586:function(e,t,a){e.exports=a(896)},591:function(e,t,a){},746:function(e,t,a){},784:function(e,t){},792:function(e,t){},794:function(e,t){},847:function(e,t){},896:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(55),i=a.n(c),s=(a(591),a(154)),l=a(52),u=a(16),p=Object(u.a)((function(e){return{list:{color:e.palette.secondary.main,height:"100%",listStyle:"none",overflow:"scroll"},wrapper:{maxHeight:"200px"}}}))((function(e){var t=e.classes,a=e.markers;return a&&0!==a.length?o.a.createElement("div",{className:t.wrapper},o.a.createElement("ul",{className:t.list},a&&a.map((function(e){return o.a.createElement("li",{key:e.message},e.startLineNumber,":",e.startColumn," - ",e.message)})))):null})),m=a(81),d=a(558),f=a(561),h=(a(746),a(277)),g=a(278),b=a(280),j=a(279),E=a(281),O=a(928),y=a(936),v=a(501),x=a(406),S=a(939),w=a(414),k=a(937),C=a(901),M=a(563),B=a.n(M),N=a(566),D=a.n(N),T=a(565),I=a.n(T),P=a(564),z=a.n(P),K=a(932),U=Object(u.a)((function(e){return{title:{marginLeft:e.spacing(2)},appBar:{}}}))((function(e){var t=e.uiSchema,a=e.searchBarUrl,n=e.onChangeUrl;return o.a.createElement(K.a,{value:a,placeholder:t&&t.appBar["ui:inputPlaceholder"],style:{width:"100%"},onChange:function(e){n(e.target.value)}})})),V=a(488),L=a(559),R=a(933),F=a(562),J=a.n(F),A=function(e){var t=e.examples,a=e.onChange,n=r.useState(null),o=Object(l.a)(n,2),c=o[0],i=o[1];return t?r.createElement(r.Fragment,null,r.createElement(k.a,{title:"Example OpenRPC Documents"},r.createElement(V.a,{onClick:function(e){i(e.currentTarget)},variant:"outlined",endIcon:r.createElement(J.a,null),style:{height:"38px",fontSize:"11px",marginLeft:"10px"}},"examples")),r.createElement(L.a,{id:"simple-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){i(null)}},r.createElement("div",{style:{maxWidth:"525px"}},t.map((function(e){return r.createElement(R.a,{onClick:function(t){return function(e){i(null),a&&a(e)}(e)}},r.createElement(v.a,{container:!0,spacing:0},r.createElement(v.a,{item:!0,xs:12},r.createElement(x.a,{variant:"subtitle1"},e.name)),r.createElement(v.a,{item:!0,xs:12},r.createElement(x.a,{variant:"caption",style:{fontSize:"9px"}},e.url))))}))))):null},Y=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uiSchema,a=e.classes,n=e.onSplitViewChange,r=e.onDarkModeChange,c=e.examples,i=e.onExampleDocumentsDropdownChange;return o.a.createElement(O.a,{position:"fixed",color:"default",elevation:0,className:a.appBar},o.a.createElement(y.a,null,o.a.createElement(v.a,{alignItems:"center",container:!0},o.a.createElement(v.a,{item:!0,xs:6,sm:6,md:3,direction:"row",container:!0},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:logoUrl"]&&o.a.createElement(v.a,null,o.a.createElement("img",{alt:"playground-title",height:"30",src:this.props.uiSchema.appBar["ui:logoUrl"]})),o.a.createElement(v.a,{style:{overflow:"hidden"}},o.a.createElement(x.a,{className:a.title,variant:"h6"},t&&t.appBar["ui:title"]))),o.a.createElement(S.a,{smDown:!0},o.a.createElement(v.a,{item:!0,container:!0,justify:"center",alignItems:"center",sm:6},o.a.createElement(v.a,{item:!0,sm:9},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:input"]&&o.a.createElement(w.a,{style:{background:"rgba(0, 0, 0, 0.1)",padding:"0px 10px 0px 10px",width:"100%"},elevation:0},o.a.createElement(U,{searchBarUrl:this.props.searchBarUrl,onChangeUrl:this.props.onChangeUrl,uiSchema:t}))),o.a.createElement(A,{examples:c,onChange:i}))),o.a.createElement(v.a,{item:!0,xs:6,sm:6,md:3,container:!0,justify:"flex-end",alignItems:"center"},t&&t.appBar["ui:splitView"]?o.a.createElement(k.a,{title:"Full Screen"},o.a.createElement(C.a,{onClick:function(){n&&n(!1)}},o.a.createElement(B.a,null))):o.a.createElement(k.a,{title:"Edit"},o.a.createElement(C.a,{onClick:function(){n&&n(!0)}},o.a.createElement(z.a,null))),o.a.createElement(k.a,{title:"Toggle Dark Theme"},o.a.createElement(C.a,null,t&&t.appBar["ui:darkMode"]?o.a.createElement(I.a,{onClick:function(){return r(!1)}}):o.a.createElement(D.a,{onClick:function(){return r(!0)}})))))))}}]),t}(r.Component),H=Object(u.a)((function(e){return{title:{marginLeft:e.spacing(2)},appBar:{}}}))(Y),W=a(578),_=a(911),q=a(934),G=a(412),$=a.n(G),Q=a(152),X=a.n(Q),Z=a(567),ee=a.n(Z),te=a(572),ae=a.n(te),ne=a(569),re=a.n(ne),oe=a(413),ce=a.n(oe),ie=a(568),se=a.n(ie),le=a(570),ue=a.n(le),pe=a(571),me=a.n(pe),de={success:ee.a,warning:se.a,error:re.a,info:ce.a,debug:ce.a};!function(e){e.error="error",e.warn="warning",e.info="info",e.success="success",e.debug="debug"}(n||(n={}));var fe=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.className,n=e.message,r=e.onClose,c=e.variant,i=Object(W.a)(e,["classes","className","message","onClose","variant"]),s=de[c];return o.a.createElement(_.a,Object.assign({className:$()(t[c],a),"aria-describedby":"client-snackbar",message:o.a.createElement("span",{id:"client-snackbar",className:t.message},o.a.createElement(s,{className:$()(t.icon,t.iconVariant)}),n),action:[o.a.createElement(C.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:r},o.a.createElement(ae.a,{className:t.icon}))]},i))}}]),t}(o.a.Component),he=Object(u.a)((function(e){return{success:{color:ue.a[600]},error:{backgroundColor:e.palette.error.dark},info:{color:e.palette.primary.dark},debug:{color:e.palette.secondary.dark},warning:{color:me.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing(2)},message:{display:"flex",alignItems:"center"},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}}))(fe),ge=function(e){function t(){return Object(h.a)(this,t),Object(b.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.notification,n=e.close;return Object(Q.isEmpty)(a)?null:o.a.createElement(q.a,{open:!0,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"left"}},o.a.createElement(he,{onClose:n,variant:a.type,message:o.a.createElement("span",null,a.message),className:t.margin}))}}]),t}(r.Component),be=Object(u.a)((function(e){return{title:{marginLeft:e.spacing(2)},close:{padding:e.spacing(1)},margin:{margin:e.spacing(2)}}}))(ge),je=a(927),Ee=a(308),Oe=a(331),ye=a.n(Oe),ve=Object(Ee.a)({props:{MuiAppBar:{position:"sticky"},MuiCard:{elevation:0}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiToolbar:{root:{background:"transparent !important"}},MuiAppBar:{root:{backgroundColor:"transparent !important"},colorDefault:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}}},palette:{background:{default:"#fff"}}}),xe=Object(Ee.a)({props:{MuiAppBar:{position:"sticky"}},palette:{type:"dark",background:{default:ye.a[900],paper:ye.a[900]}},overrides:{MuiPaper:{root:{zIndex:1,opacity:1}},MuiAppBar:{root:{background:"transparent !important"},colorPrimary:{background:"transparent !important"}},MuiToolbar:{root:{background:"transparent !important"}},MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:ye.a[400]}}}}),Se=a(576),we=a.n(Se),ke=a(577),Ce=a.n(ke),Me=a(931),Be=a(930),Ne=a(938),De=a(935),Te=a(411),Ie=function(e){if(!1===e.split&&e.onlyRenderSplit)return o.a.createElement("div",{key:2,style:e.splitLeft?e.leftStyle:e.rightStyle},e.splitLeft?e.left:e.right);var t=e.direction||"vertical",a=e.split?"horizontal"===t?window.innerHeight/2:window.innerWidth/2:"horizontal"===t?window.innerHeight:window.innerWidth;return o.a.createElement(Te.default,{split:t,style:e.style,className:"playground-splitview",minSize:100,maxSize:0,defaultSize:a,size:a,onChange:function(t){e.onChange&&e.onChange(t)}},o.a.createElement("div",{style:e.leftStyle?Object(s.a)({},e.leftStyle,{},{display:"flex",flexDirection:"column",height:"100%"}):{display:"flex",flexDirection:"column",height:"100%"},key:1},e.left),o.a.createElement("div",{key:2,style:e.rightStyle},e.right))},Pe=a(573),ze=a.n(Pe),Ke=function(e){var t=Object(r.useState)(),a=Object(l.a)(t,2),n=a[0],o=a[1],c=function(e){var t;try{t=JSON.parse(e)}catch(a){}t&&ze.a.dereference(t).then((function(t){o(t),X.a.defer((function(){return window.localStorage.setItem("schema",e)}))}))};return Object(r.useEffect)((function(){e&&c(e)}),[]),[n,c]};var Ue=function(){var e=Object(r.useState)((function(){return window.localStorage.getItem("schema")})),t=Object(l.a)(e,2);return[t[0],t[1]]},Ve=a(162),Le=a(163),Re=a.n(Le),Fe=0,Je=function(e){var t=Object(r.useState)(e),a=Object(l.a)(t,2),n=a[0],o=a[1],c=Object(r.useState)(),i=Object(l.a)(c,2),s=i[0],u=i[1],p=Object(r.useState)(),m=Object(l.a)(p,2),d=m[0],f=m[1];return Object(r.useEffect)((function(){n&&(Object(Q.isEmpty)(n)||(n.match(/\.json$/)?function(e){var t;return Re.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Re.a.awrap(fetch(e));case 2:if(404!==(t=a.sent).status){a.next=5;break}throw new Error("404: Not Found");case 5:return a.abrupt("return",t.text());case 6:case"end":return a.stop()}}))}(n).then(u).catch((function(e){var t="Error fetching schema for: ".concat(n);console.error(t,e),f(t)})):function(e){var t,a;return Re.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Re.a.awrap(fetch(e,{body:JSON.stringify({id:Fe++,jsonrpc:"2.0",method:"rpc.discover",params:[]}),headers:{"Content-Type":"application/json"},method:"POST"}));case 2:if(404!==(t=n.sent).status){n.next=5;break}throw new Error("404: Not Found");case 5:return n.next=7,Re.a.awrap(t.json());case 7:return a=n.sent,n.abrupt("return",JSON.stringify(a.result,null,2));case 9:case"end":return n.stop()}}))}(n).then(u).catch((function(e){var t="Error fetching rpc.discover for: ".concat(n);console.error(t,e),f(t)}))))}),[n]),[n,{results:s,error:d},o]},Ae=a(574),Ye=function(){var e=Object(r.useState)(Ae.parse(window.location.search,{ignoreQueryPrefix:!0,depth:100,decoder:function(e){return/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}}));return[Object(l.a)(e,1)[0]]},He=Object(Ve.createStore)((function(){return Ye()})),We=Object(Ve.createStore)((function(){var e=He(),t=Object(l.a)(e,1)[0];return Je(t.schemaUrl||t.url)})),_e=Object(Ve.createStore)((function(){var e=Object(r.useState)(),t=Object(l.a)(e,2);return[t[0],t[1]]})),qe=function(e){var t,a,n=We(),r=Object(l.a)(n,1)[0],c=_e(),i=Object(l.a)(c,2)[1],s=e.openrpcMethodObject;return s&&s.examples&&s.examples[0]&&(t=s.examples[0],a=t.params.map((function(e){return e.value}))),o.a.createElement(k.a,{title:"Open in Inspector"},o.a.createElement(V.a,{variant:"contained",onClick:function(){return i({url:r,openrpcMethodObject:e.openrpcMethodObject,request:{jsonrpc:"2.0",id:0,method:s.name,params:a||[]}})}},o.a.createElement("span",{role:"img","aria-label":"try-it-inspector"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"),"\ufe0f\ufe0f Try It Now"))},Ge=a(267),$e=function(e){var t=Object(r.useState)(e),a=Object(l.a)(t,2),n=a[0],o=a[1];return[n,function(e){var t=e.section,a=e.key,r=e.value;o(Object(s.a)({},n,Object(Ge.a)({},t,Object(s.a)({},n.appBar,Object(Ge.a)({},a,r)))))}]},Qe=Object(Ve.createStore)((function(){var e,t,a=He(),n=Object(l.a)(a,1)[0];return $e((e={appBar:{"ui:input":!0,"ui:inputPlaceholder":"Enter OpenRPC Document Url or rpc.discover Endpoint","ui:logoUrl":"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png","ui:splitView":!0,"ui:darkMode":!1,"ui:title":"Playground"},methods:{"ui:defaultExpanded":!1,"ui:methodPlugins":!0},params:{"ui:defaultExpanded":!1}},t=n.uiSchema,e&&t?{appBar:Object(s.a)({},e.appBar,{},t.appBar||{}),methods:Object(s.a)({},e.methods,{},t.methods||{}),params:Object(s.a)({},e.params,{},t.params||{})}:e||t))})),Xe=[{name:"api-with-examples",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/api-with-examples-openrpc.json"},{name:"link-example",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/link-example-openrpc.json"},{name:"params-by-name-petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/params-by-name-petstore-openrpc.json"},{name:"petstore-expanded",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-expanded-openrpc.json"},{name:"petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-openrpc.json"},{name:"simple-math",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/simple-math-openrpc.json"},{name:"empty-document",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/empty-openrpc.json"}],Ze=a(306),et=a.n(Ze),tt=a(407),at=a.n(tt),nt=a(307),rt=a(266),ot=a.n(rt),ct=function(e){var t,a=Object(r.useRef)(),n=at()();Object(r.useEffect)((function(){void 0!==a&&void 0!==a.current&&a.current.layout()}),[n]),Object(r.useEffect)((function(){return function(){t&&t.dispose()}}),[]);return o.a.createElement(et.a,{height:"100%",editorOptions:{useShadows:!1,minimap:{enabled:!1},scrollBeyondLastLine:!1,lineNumbers:"on"},value:e.value,editorDidMount:function(n,r){a.current=r;var o=m.Uri.parse("inmemory://openrpc-playground.json");t=m.editor.createModel(e.value||"","json",o),r.setModel(t),Object(nt.addDiagnostics)(o.toString(),ot.a,m),e.editorDidMount&&e.editorDidMount(n,r)},language:"json",onChange:function(t,a){e.onChange&&e.onChange(a)}})},it=function(e){var t=Object(r.useState)(ot.a),a=Object(l.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)((function(){e&&e.addAction({id:"replace-meta-schema",label:"Replace Meta Schema",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_R)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var e=window.prompt("Paste schema to replace current meta schema","{}");e&&o(JSON.parse(e))}})}),[e]),[n]},st=a(537).initVimMode,lt=function(e){var t=Object(r.useState)(),a=Object(l.a)(t,2),n=a[0],o=a[1];return Object(r.useEffect)((function(){if(e)return e.addAction({id:"vim-mode",label:"Vim Mode",keybindings:[m.KeyMod.chord(m.KeyMod.CtrlCmd|m.KeyCode.KEY_K,m.KeyMod.CtrlCmd|m.KeyCode.KEY_V)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){n&&n.dispose(),o(st(e))}}),function(){n&&n.dispose()}}),[e]),[e,n]},ut=a(575),pt=a.n(ut),mt=function(){var e=Ue(),t=Object(l.a)(e,1)[0],a=Object(r.useState)([]),c=Object(l.a)(a,2),i=c[0],u=c[1],h=We(),g=Object(l.a)(h,3),b=g[0],j=g[1],E=j.results,O=j.error,y=g[2],v=Object(r.useState)(),S=Object(l.a)(v,2),w=S[0],M=S[1],B=Qe(),N=Object(l.a)(B,2),D=N[0],T=N[1],I=Object(r.useState)(),P=Object(l.a)(I,2),z=P[0],K=P[1],U=Object(r.useState)(!1),V=Object(l.a)(U,2),L=V[0],R=V[1],F=Ke(t?JSON.parse(t):null),J=Object(l.a)(F,2),A=J[0],Y=J[1],W=function(e){z&&setTimeout((function(){z.layout()}),0),R(e)},_=_e(),q=Object(l.a)(_,1)[0];it(z),lt(z);Object(r.useEffect)((function(){var e=Xe.find((function(e){return"petstore"===e.name}));t||b||!e||y(e.url)}),[t]),Object(r.useEffect)((function(){X(Object(s.a)({},Q,{theme:D.appBar["ui:darkMode"]?"summerfruit":"summerfruit:inverted"}))}),[D.appBar["ui:darkMode"]]),Object(f.a)((function(){var e=m.Uri.parse("inmemory://openrpc-playground.json"),t=m.editor.getModelMarkers({resource:e});u(t)}),5e3),Object(r.useEffect)((function(){E&&z&&z.setValue(E),E&&Y(E)}),[E]),Object(r.useEffect)((function(){O&&M({type:n.error,message:O})}),[O]),Object(r.useEffect)((function(){Y(t||"")}),[t]);var G=Object(r.useState)({theme:"summerfruit:inverted",collapseStringsAfterLength:25,displayDataTypes:!1,displayObjectSize:!1,indentWidth:2,name:!1}),$=Object(l.a)(G,2),Q=$[0],X=$[1],Z=D.appBar["ui:darkMode"]?xe:ve;return Object(r.useEffect)((function(){q&&W(!0)}),[q]),o.a.createElement(je.a,{theme:Z},o.a.createElement(Me.a,null),o.a.createElement(H,{searchBarUrl:b,uiSchema:D,examples:Xe,onExampleDocumentsDropdownChange:function(e){return y(e.url)},onSplitViewChange:function(e){T({value:e,key:"ui:splitView",section:"appBar"})},onDarkModeChange:function(e){m.editor.setTheme(e?"vs-dark":"vs"),T({value:e,key:"ui:darkMode",section:"appBar"})},onChangeUrl:y}),o.a.createElement(Ie,{direction:"horizontal",splitLeft:!0,split:L,leftStyle:{width:"100%",height:"100%"},right:o.a.createElement(o.a.Fragment,null,o.a.createElement(pt.a,{hideToggleTheme:!0,url:b&&b.includes(".json")?null:b,request:q&&q.request,openrpcDocument:A})),onChange:function(){return z&&z.layout()},left:o.a.createElement(Ie,{onlyRenderSplit:!0,split:D.appBar["ui:splitView"],leftStyle:{paddingTop:"58px",height:"94%",width:"100%"},rightStyle:{height:"94%",width:"100%",overflowY:"auto",marginTop:"58px",paddingBottom:"58px"},onChange:function(){return z&&z.layout()},left:o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{markers:i}),o.a.createElement(ct,{editorDidMount:function(e,t){K(t)},onChange:function(e){Y(e)},value:t||""})),right:o.a.createElement(o.a.Fragment,null,o.a.createElement(Be.a,null,o.a.createElement(d.Documentation,{schema:A,uiSchema:D,reactJsonOptions:Q,methodPlugins:D.methods["ui:methodPlugins"]?[qe]:void 0})),o.a.createElement(Ne.a,{variant:"scrollable",indicatorColor:"primary",value:0,style:{position:"absolute",bottom:"0",right:"25px",zIndex:1,marginBottom:"0px"}},o.a.createElement(De.a,{onClick:function(){return W(!L)},style:{background:Z.palette.background.default,width:"165px",paddingRight:"30px",border:"1px solid ".concat(Z.palette.text.hint)},label:o.a.createElement("div",null,o.a.createElement(x.a,{variant:"body1"},o.a.createElement("span",{role:"img","aria-label":"inspector"},"\ud83d\udd75\ufe0f\u200d\u2642\ufe0f"),"\ufe0f Inspector"),o.a.createElement(k.a,{title:"Toggle Inspector"},o.a.createElement(C.a,{style:{position:"absolute",right:"5px",top:"20%"},size:"small"},L?o.a.createElement(we.a,null):o.a.createElement(Ce.a,null))))})))})}),o.a.createElement(be,{close:function(){return M({})},notification:w}))};i.a.render(o.a.createElement(Ve.ReusableProvider,null,o.a.createElement(mt,null)),document.getElementById("root"))}},[[586,2,3]]]);
//# sourceMappingURL=main.34855744.chunk.js.map