(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{531:function(e,t,n){e.exports=n(975)},536:function(e,t,n){},910:function(e,t,n){},942:function(e,t){},950:function(e,t){},952:function(e,t){},975:function(e,t,n){"use strict";n.r(t);var a=n(10),r=n.n(a),c=n(103),i=n.n(c),o=(n(536),n(57)),s=n(82),u=Object(s.withStyles)(function(e){return{list:{color:e.palette.secondary.main,height:"100%",listStyle:"none",overflow:"scroll"},wrapper:{maxHeight:"200px"}}})(function(e){var t=e.classes,n=e.markers;return n&&0!==n.length?r.a.createElement("div",{className:t.wrapper},r.a.createElement("ul",{className:t.list},n&&n.map(function(e){return r.a.createElement("li",{key:e.message},e.startLineNumber,":",e.startColumn," - ",e.message)}))):null}),l=n(80),p=n(125),m=n.n(p),d=n(514),h=n.n(d),f=n(515),b=(n(910),n(247)),g=n(248),O=n(252),j=n(250),v=n(253),y=n(51),E=n(517),S=n.n(E),w=n(516),k=n.n(w),x=n(519),C=n.n(x),M=n(518),B=n.n(M),N=n(530),I=[{name:"api-with-examples",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/api-with-examples-openrpc.json"},{name:"link-example",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/link-example-openrpc.json"},{name:"params-by-name-petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/params-by-name-petstore-openrpc.json"},{name:"petstore-expanded",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-expanded-openrpc.json"},{name:"petstore",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/petstore-openrpc.json"},{name:"simple-math",url:"https://raw.githubusercontent.com/open-rpc/examples/master/service-descriptions/simple-math-openrpc.json"}];var V,K=Object(s.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},appBar:{}}})(function(e){var t=e.uiSchema,n=e.searchBarUrl,a=e.onChangeUrl;return r.a.createElement(N.a,{initialInputValue:n,onInputValueChange:a,id:"downshift"},function(e){var n,a=e.getInputProps,c=e.getItemProps,i=(e.getLabelProps,e.getMenuProps),o=e.isOpen,s=e.inputValue,u=e.highlightedIndex,l=(e.selectedItem,e.openMenu),p=e.clearSelection;return r.a.createElement("div",null,r.a.createElement(y.InputBase,Object.assign({},a({onChange:function(e){""===e.target.value&&p()}}),{onFocus:function(e){return l()},placeholder:t&&t.appBar["ui:inputPlaceholder"],style:{width:"100%"}})),r.a.createElement("div",Object.assign({},i(),{style:{position:"absolute",zIndex:1}}),o?r.a.createElement(y.Paper,{style:{maxWidth:"640px"}},(n=s,n?I.filter(function(e){return e.name.includes(n)||e.url.includes(n)}):I).map(function(e,t){var n=u===t;return r.a.createElement(y.MenuItem,Object.assign({},c({item:e.url}),{key:e.url,selected:n,component:"div",style:{fontWeight:n?500:400}}),r.a.createElement(y.Grid,{container:!0,spacing:0},r.a.createElement(y.Grid,{item:!0,xs:12},r.a.createElement(y.Typography,{variant:"subheading"},e.name)),r.a.createElement(y.Grid,{item:!0,xs:12},r.a.createElement(y.Typography,{variant:"caption"},e.url))))})):null))})}),P=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.uiSchema,n=e.classes,a=e.onSplitViewChange,c=e.onDarkModeChange;return r.a.createElement(y.AppBar,{position:"static",color:"default",elevation:0,className:n.appBar},r.a.createElement(y.Toolbar,null,r.a.createElement(y.Grid,{alignItems:"center",container:!0,spacing:24},r.a.createElement(y.Grid,{item:!0,xs:6,sm:3,direction:"row",container:!0},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:logoUrl"]&&r.a.createElement(y.Grid,null,r.a.createElement("img",{alt:"playground-title",height:"30",src:this.props.uiSchema.appBar["ui:logoUrl"]})),r.a.createElement(y.Grid,null,r.a.createElement(y.Typography,{className:n.title,variant:"h6"},t&&t.appBar["ui:title"]))),r.a.createElement(y.Hidden,{only:"xs"},r.a.createElement(y.Grid,{item:!0,sm:7},this.props.uiSchema&&this.props.uiSchema.appBar&&this.props.uiSchema.appBar["ui:input"]&&r.a.createElement(y.Paper,{style:{background:"rgba(0, 0, 0, 0.1)",padding:"0px 10px 0px 10px",width:"100%"},elevation:0},r.a.createElement(K,{searchBarUrl:this.props.searchBarUrl,onChangeUrl:this.props.onChangeUrl,uiSchema:t})))),r.a.createElement(y.Grid,{item:!0,xs:6,sm:2,container:!0,justify:"flex-end"},r.a.createElement(y.IconButton,null,t&&t.appBar["ui:splitView"]?r.a.createElement(k.a,{onClick:function(){return a(!1)}}):r.a.createElement(S.a,{onClick:function(){return a(!0)}})),r.a.createElement(y.IconButton,null,t&&t.appBar["ui:darkMode"]?r.a.createElement(B.a,{onClick:function(){return c(!1)}}):r.a.createElement(C.a,{onClick:function(){return c(!0)}}))))))}}]),t}(a.Component),T=Object(s.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},appBar:{}}})(P),U=n(190),G=n(520),z=n(28),L=n.n(z),D=n(182),J=n.n(D),R=n(521),A=n.n(R),F=n(524),W=n.n(F),Y=n(523),_=n.n(Y),H=n(376),$=n.n(H),q=n(522),Q=n.n(q),X=n(373),Z=n.n(X),ee=n(374),te=n.n(ee),ne={success:A.a,warning:Q.a,error:_.a,info:$.a,debug:$.a};!function(e){e.error="error",e.warn="warning",e.info="info",e.success="success",e.debug="debug"}(V||(V={}));var ae=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.className,a=e.message,c=e.onClose,i=e.variant,o=Object(G.a)(e,["classes","className","message","onClose","variant"]),s=ne[i];return r.a.createElement(y.SnackbarContent,Object.assign({className:L()(t[i],n),"aria-describedby":"client-snackbar",message:r.a.createElement("span",{id:"client-snackbar",className:t.message},r.a.createElement(s,{className:L()(t.icon,t.iconVariant)}),a),action:[r.a.createElement(J.a,{key:"close","aria-label":"Close",color:"inherit",className:t.close,onClick:c},r.a.createElement(W.a,{className:t.icon}))]},o))}}]),t}(r.a.Component),re=Object(s.withStyles)(function(e){return{success:{color:Z.a[600]},error:{backgroundColor:e.palette.error.dark},info:{color:e.palette.primary.dark},debug:{color:e.palette.secondary.dark},warning:{color:te.a[700]},icon:{fontSize:20},iconVariant:{opacity:.9,marginRight:e.spacing.unit},message:{display:"flex",alignItems:"center"},close:{padding:e.spacing.unit/2},margin:{margin:e.spacing.unit}}})(ae),ce=function(e){function t(){return Object(b.a)(this,t),Object(O.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,n=e.notification,a=e.close;return Object(p.isEmpty)(n)?null:r.a.createElement(y.Snackbar,{open:!0,autoHideDuration:1e4,anchorOrigin:{vertical:"bottom",horizontal:"left"}},r.a.createElement(re,{onClose:a,variant:n.type,message:r.a.createElement("span",null,n.message),className:t.margin}))}}]),t}(a.Component),ie=Object(s.withStyles)(function(e){return{title:{marginLeft:e.spacing.unit},close:{padding:e.spacing.unit/2},margin:{margin:e.spacing.unit}}})(ce),oe=Object(s.createMuiTheme)({overrides:{MuiAppBar:{root:{background:"#fff !important"}}},palette:{background:{default:"#fff"}}}),se=Object(s.createMuiTheme)({palette:{type:"dark",background:{default:"#212121",paper:"black"}},overrides:{MuiTable:{root:{background:"transparent !important"}},MuiTypography:{root:{color:"#fff"}}}}),ue=n(525),le=function(e){return!1===e.split?r.a.createElement("div",{className:"docs",key:2},e.right):r.a.createElement(ue.a,{split:"vertical",minSize:100,maxSize:-100,defaultSize:window.innerWidth/2,onChange:function(t){e.onChange&&e.onChange(t)}},r.a.createElement("div",{key:1,style:{display:"flex",flexDirection:"column",height:"100%"}},e.left),r.a.createElement("div",{className:"docs",key:2},e.right))},pe=n(529),me=function(e,t,n,r){var c=Object(a.useState)(),i=Object(o.a)(c,2),s=i[0],u=i[1],p=function(){s&&s.layout()};return Object(a.useEffect)(function(){var a;if(e&&e.current){var r=l.editor.create(e.current,{theme:t?"vs-dark":"vs"});u(r),a=r.onDidChangeModelContent(function(e){if(n){var t=r.getValue();n(e,t)}}),window.addEventListener("resize",p)}return function(){window.removeEventListener("resize",p),s&&s.dispose(),a&&a.dispose()}},Object(pe.a)(r||[])),[s,p]},de=function(e,t,n){var r=Object(a.useState)(),c=Object(o.a)(r,2),i=c[0],s=c[1],u=Object(a.useState)([4,13,4,13]),p=Object(o.a)(u,2),m=p[0],d=p[1];return Object(a.useEffect)(function(){if(t){var a=l.editor.getModels()[0];a&&a.dispose();var r=l.Uri.parse("inmemory:/".concat(Math.random(),"/model/userSpec.json")),c=l.editor.createModel(e||"","json",r);l.languages.json.jsonDefaults.setDiagnosticsOptions({enableSchemaRequest:!0,schemas:[{fileMatch:["*"],schema:n,uri:r.toString()}],validate:!0}),c.updateOptions({tabSize:2}),s(c),t.setModel(c);var u=Object(o.a)(m,4),p=u[0],d=u[1],h=u[2],f=u[3];t.setSelection(new l.Selection(p,d,h,f)),t.focus()}return function(){i&&i.dispose()}},[t,n]),[i,d]},he=n(526),fe=n.n(he),be=function(e){var t=Object(a.useState)(e),n=Object(o.a)(t,2),r=n[0],c=n[1];return[r,function(e){var t;try{t=JSON.parse(e)}catch(n){}t&&fe.a.dereference(t).then(function(t){c(t),m.a.defer(function(){return window.localStorage.setItem("schema",e)})})}]},ge=n(251),Oe=function(e){var t=Object(a.useState)(e),n=Object(o.a)(t,2),r=n[0],c=n[1];return[r,function(e){var t=e.section,n=e.key,a=e.value;c(Object(U.a)({},r,Object(ge.a)({},t,Object(U.a)({},r.appBar,Object(ge.a)({},n,a)))))}]};var je=function(){var e=Object(a.useState)(function(){return window.localStorage.getItem("schema")}),t=Object(o.a)(e,2);return[t[0],t[1]]},ve=n(225),ye=n.n(ve),Ee=n(294),Se=function(){var e=Object(Ee.a)(ye.a.mark(function e(t){var n;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if(404!==(n=e.sent).status){e.next=5;break}throw new Error("404: Not Found");case 5:return e.abrupt("return",n.text());case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),we=0,ke=function(){var e=Object(Ee.a)(ye.a.mark(function e(t){var n,a;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{body:JSON.stringify({id:we++,jsonrpc:"2.0",method:"rpc.discover",params:[]}),headers:{"Content-Type":"application/json"},method:"POST"});case 2:if(404!==(n=e.sent).status){e.next=5;break}throw new Error("404: Not Found");case 5:return e.next=7,n.json();case 7:return a=e.sent,e.abrupt("return",JSON.stringify(a.result,null,2));case 9:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),xe=function(e){var t=Object(a.useState)(e),n=Object(o.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(),s=Object(o.a)(i,2),u=s[0],l=s[1],m=Object(a.useState)(),d=Object(o.a)(m,2),h=d[0],f=d[1];return Object(a.useEffect)(function(){r&&(Object(p.isEmpty)(r)||(r.match(/\.json$/)?Se(r).then(l).catch(function(e){var t="Error fetching schema for: ".concat(r);console.error(t,e),f(t)}):ke(r).then(l).catch(function(e){var t="Error fetching rpc.discover for: ".concat(r);console.error(t,e),f(t)})))},[r]),[r,{results:u,error:h},c]},Ce=n(510).initVimMode,Me=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)(function(){if(e)return e.addAction({id:"vim-mode",label:"Vim Mode",keybindings:[l.KeyMod.chord(l.KeyMod.CtrlCmd|l.KeyCode.KEY_K,l.KeyMod.CtrlCmd|l.KeyCode.KEY_V)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){r&&r.dispose(),c(Ce(e))}}),function(){r&&r.dispose()}},[e]),[e,r]},Be=n(527),Ne=n.n(Be),Ie=(n(510).initVimMode,function(e){var t=Object(a.useState)(Ne.a),n=Object(o.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)(function(){e&&e.addAction({id:"replace-meta-schema",label:"Replace Meta Schema",keybindings:[l.KeyMod.chord(l.KeyMod.CtrlCmd|l.KeyCode.KEY_K,l.KeyMod.CtrlCmd|l.KeyCode.KEY_R)],contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(){var e=window.prompt("Paste schema to replace current meta schema","{}");e&&c(JSON.parse(e))}})},[e]),[r]}),Ve=n(528),Ke=function(){var e=Object(a.useState)(Ve.parse(window.location.search,{ignoreQueryPrefix:!0,depth:100,decoder:function(e){return/^(\d+|\d*\.\d+)$/.test(e)?parseFloat(e):"false"!==e&&("true"===e||decodeURIComponent(e))}}));return[Object(o.a)(e,1)[0]]},Pe=function(){var e=Ke(),t=Object(o.a)(e,1)[0],n=je(),c=Object(o.a)(n,2),i=c[0],p=(c[1],Object(a.useState)([])),d=Object(o.a)(p,2),b=d[0],g=d[1],O=xe(t.schemaUrl),j=Object(o.a)(O,3),v=j[0],E=j[1],S=E.results,w=E.error,k=j[2],x=Object(a.useState)(),C=Object(o.a)(x,2),M=C[0],B=C[1];Object(f.a)(function(){g(l.editor.getModelMarkers({}))},5e3),Object(a.useEffect)(function(){S&&$&&$.setValue(S),S&&z(S)},[S]),Object(a.useEffect)(function(){w&&B({type:V.error,message:w})},[w]);var N,I,K=be(i?JSON.parse(i):null),P=Object(o.a)(K,2),G=P[0],z=P[1],L=Object(a.useState)({theme:"summerfruit:inverted",collapseStringsAfterLength:25,displayDataTypes:!1,displayObjectSize:!1,indentWidth:2,name:!1}),D=Object(o.a)(L,2),J=D[0],R=(D[1],Oe((N={appBar:{"ui:input":!0,"ui:inputPlaceholder":"Enter OpenRPC Document Url or rpc.discover Endpoint","ui:logoUrl":"https://github.com/open-rpc/design/raw/master/icons/open-rpc-logo-noText/open-rpc-logo-noText%20(PNG)/128x128.png","ui:splitView":!0,"ui:darkMode":!1,"ui:title":"OpenRPC Playground"},methods:{"ui:defaultExpanded":!1},params:{"ui:defaultExpanded":!1}},I=t.uiSchema,N&&I?{appBar:Object(U.a)({},N.appBar,I.appBar||{}),methods:Object(U.a)({},N.methods,I.methods||{}),params:Object(U.a)({},N.params,I.params||{})}:N||I))),A=Object(o.a)(R,2),F=A[0],W=A[1],Y=Object(a.useRef)(null),_=me(Y,F.appBar["ui:darkMode"],m.a.debounce(function(e,t){z(t);var n=e.changes[0].range;te([n.startLineNumber,n.startColumn,n.endLineNumber,n.endColumn])},500),[F]),H=Object(o.a)(_,2),$=H[0],q=H[1],Q=Ie($),X=Object(o.a)(Q,1)[0],Z=de(G?JSON.stringify(G,null,2):i,$,X),ee=Object(o.a)(Z,2),te=(ee[0],ee[1]),ne=Me($);Object(o.a)(ne,1)[0];return r.a.createElement(s.MuiThemeProvider,{theme:F.appBar["ui:darkMode"]?se:oe},r.a.createElement(y.CssBaseline,null),r.a.createElement(T,{searchBarUrl:v,uiSchema:F,onSplitViewChange:function(e){W({value:e,key:"ui:splitView",section:"appBar"})},onDarkModeChange:function(e){W({value:e,key:"ui:darkMode",section:"appBar"}),$&&l.editor.setTheme(e?"vs-dark":"vs")},onChangeUrl:m.a.debounce(k,500)}),r.a.createElement(le,{split:F.appBar["ui:splitView"],onChange:q,left:r.a.createElement(r.a.Fragment,null,r.a.createElement(u,{markers:b}),r.a.createElement("div",{key:"editor",style:{height:"100%"},ref:Y})),right:r.a.createElement(h.a,{schema:G,uiSchema:F,reactJsonOptions:J})}),r.a.createElement(ie,{close:function(){return B({})},notification:M}))};i.a.render(r.a.createElement(Pe,null),document.getElementById("root"))}},[[531,2,3]]]);
//# sourceMappingURL=main.262647f4.chunk.js.map